FineeaszNigger        = {}

FineeaszNigger.SilencerWeapons = {

	["WEAPON_SNSPISTOL_MK2"] = "COMPONENT_AT_PI_SUPP_02",

	["WEAPON_VINTAGEPISTOL"] = "COMPONENT_AT_PI_SUPP",

	["WEAPON_PISTOL"] = "COMPONENT_AT_PI_SUPP_02",

	["WEAPON_PISTOL_MK2"] = "COMPONENT_AT_PI_SUPP_02",

	["WEAPON_COMBATPISTOL"] = "COMPONENT_AT_PI_SUPP",

	["WEAPON_HEAVYPISTOL"] = "COMPONENT_AT_PI_SUPP",

	["WEAPON_PUMPSHOTGUN"] = "COMPONENT_AT_SR_SUPP",

	["WEAPON_PUMPSHOTGUN_MK2"] = "COMPONENT_AT_SR_SUPP_03",

	["WEAPON_BULLPUPSHOTGUN"] = "COMPONENT_AT_AR_SUPP_02",

	["WEAPON_MICROSMG"] = "COMPONENT_AT_AR_SUPP_02",

	["WEAPON_SMG"] = "COMPONENT_AT_PI_SUPP",

	["WEAPON_SMG_MK2"] = "COMPONENT_AT_PI_SUPP",

	["WEAPON_ASSAULTSMG"] = "COMPONENT_AT_AR_SUPP_02",

	["WEAPON_ASSAULTRIFLE"] = "COMPONENT_AT_AR_SUPP_02",

	["WEAPON_CARBINERIFLE"] = "COMPONENT_AT_AR_SUPP",

	["WEAPON_MARKSMANRIFLE"] = "COMPONENT_AT_AR_SUPP",

	["WEAPON_SNIPERRIFLE"] = "COMPONENT_AT_AR_SUPP_02",

	["WEAPON_1911PISTOL"] = "COMPONENT_AT_PI_SUPP"

}



FineeaszNigger.FlashLightWeapons = {

	["WEAPON_SNSPISTOL_MK2"] = "COMPONENT_AT_PI_FLSH_03",

	["WEAPON_PISTOL"] = "COMPONENT_AT_PI_FLSH",

	["WEAPON_PISTOL_MK2"] = "COMPONENT_AT_PI_FLSH_02",

	["WEAPON_COMBATPISTOL"] = "COMPONENT_AT_PI_FLSH",

	["WEAPON_HEAVYPISTOL"] = "COMPONENT_AT_PI_FLSH",

	["WEAPON_PUMPSHOTGUN"] = "COMPONENT_AT_AR_FLSH",

	["WEAPON_PUMPSHOTGUN_MK2"] = "COMPONENT_AT_AR_FLSH",

	["WEAPON_BULLPUPSHOTGUN"] = "COMPONENT_AT_AR_FLSH",

	["WEAPON_MICROSMG"] = "COMPONENT_AT_PI_FLSH",

	["WEAPON_SMG"] = "COMPONENT_AT_AR_FLSH",

	["WEAPON_SMG_MK2"] = "COMPONENT_AT_AR_FLSH",

	["WEAPON_ASSAULTSMG"] = "COMPONENT_AT_AR_FLSH",

	["WEAPON_COMBATPDW"] = "COMPONENT_AT_AR_FLSH",

	["WEAPON_ASSAULTRIFLE"] = "COMPONENT_AT_AR_FLSH",

	["WEAPON_CARBINERIFLE"] = "COMPONENT_AT_AR_FLSH",

	["WEAPON_MARKSMANRIFLE"] = "COMPONENT_AT_AR_FLSH"

}



FineeaszNigger.GripWeapons = {

	["WEAPON_BULLPUPSHOTGUN"] = "COMPONENT_AT_AR_AFGRIP",

	["WEAPON_COMBATPDW"] = "COMPONENT_AT_AR_AFGRIP",

	["WEAPON_ASSAULTRIFLE"] = "COMPONENT_AT_AR_AFGRIP",

	["WEAPON_CARBINERIFLE"] = "COMPONENT_AT_AR_AFGRIP",

	["WEAPON_MARKSMANRIFLE"] = "COMPONENT_AT_AR_AFGRIP"

}



FineeaszNigger.ExtendedMagazineWeapons = {

	["WEAPON_SNSPISTOL"] = "COMPONENT_SNSPISTOL_CLIP_02",

	["WEAPON_SNSPISTOL_MK2"] = "COMPONENT_SNSPISTOL_MK2_CLIP_02",

	["WEAPON_VINTAGEPISTOL"] = "COMPONENT_VINTAGEPISTOL_CLIP_02",

	["WEAPON_PISTOL"] = "COMPONENT_PISTOL_CLIP_02",

	["WEAPON_PISTOL_MK2"] = "COMPONENT_PISTOL_MK2_CLIP_02",

	["WEAPON_COMBATPISTOL"] = "COMPONENT_COMBATPISTOL_CLIP_02",

	["WEAPON_HEAVYPISTOL"] = "COMPONENT_HEAVYPISTOL_CLIP_02",

	["WEAPON_MICROSMG"] = "COMPONENT_MICROSMG_CLIP_02",

	["WEAPON_SMG"] = "COMPONENT_SMG_CLIP_02",

	["WEAPON_SMG_MK2"] = "COMPONENT_SMG_MK2_CLIP_02",

	["WEAPON_ASSAULTSMG"] = "COMPONENT_ASSAULTSMG_CLIP_02",

	["WEAPON_COMBATPDW"] = "COMPONENT_COMBATPDW_CLIP_02",

	["WEAPON_GUSENBERG"] = "COMPONENT_GUSENBERG_CLIP_02",

	["WEAPON_COMPACTRIFLE"] = "COMPONENT_COMPACTRIFLE_CLIP_02",

	["WEAPON_ASSAULTRIFLE"] = "COMPONENT_ASSAULTRIFLE_CLIP_02",

	["WEAPON_CARBINERIFLE"] = "COMPONENT_CARBINERIFLE_CLIP_02",

	["WEAPON_MARKSMANRIFLE"] = "COMPONENT_MARKSMANRIFLE_CLIP_02",

	["WEAPON_1911PISTOL"] = "COMPONENT_1911PISTOL_CLIP_02"

}



FineeaszNigger.VeryExtendedMagazineWeapons = {

	["WEAPON_SMG"] = "COMPONENT_SMG_CLIP_03",

	["WEAPON_COMBATPDW"] = "COMPONENT_COMBATPDW_CLIP_03",

	["WEAPON_COMPACTRIFLE"] = "COMPONENT_COMPACTRIFLE_CLIP_03",

	["WEAPON_ASSAULTRIFLE"] = "COMPONENT_ASSAULTRIFLE_CLIP_03",

	["WEAPON_CARBINERIFLE"] = "COMPONENT_CARBINERIFLE_CLIP_03"

}



FineeaszNigger.ScopeWeapons = {

	["WEAPON_SNSPISTOL_MK2"] = "COMPONENT_AT_PI_RAIL_02",

	["WEAPON_PISTOL_MK2"] = "COMPONENT_AT_PI_RAIL",

	["WEAPON_PUMPSHOTGUN_MK2"] = "COMPONENT_AT_SCOPE_MACRO_MK2",

	["WEAPON_MICROSMG"] = "COMPONENT_AT_SCOPE_MACRO",

	["WEAPON_SMG"] = "COMPONENT_AT_SCOPE_MACRO_02",

	["WEAPON_SMG_MK2"] = "COMPONENT_AT_SCOPE_MACRO_02_SMG_MK2",

	["WEAPON_ASSAULTSMG"] = "COMPONENT_AT_SCOPE_MACRO",

	["WEAPON_COMBATPDW"] = "COMPONENT_AT_SCOPE_SMALL",

	["WEAPON_ASSAULTRIFLE"] = "COMPONENT_AT_SCOPE_MACRO",

	["WEAPON_CARBINERIFLE"] = "COMPONENT_AT_SCOPE_MEDIUM",

	["WEAPON_MARKSMANRIFLE"] = "COMPONENT_AT_SCOPE_MEDIUM_MK2",

	["WEAPON_SNIPERRIFLE"] = "COMPONENT_AT_SCOPE_LARGE"

}



FineeaszNigger.LScopeWeapons = {

	["WEAPON_PUMPSHOTGUN_MK2"] = "COMPONENT_AT_SCOPE_MACRO_MK2",

	["WEAPON_MICROSMG"] = "COMPONENT_AT_SCOPE_MACRO",

	["WEAPON_SMG"] = "COMPONENT_AT_SCOPE_MACRO_02",

	["WEAPON_SMG_MK2"] = "COMPONENT_AT_SCOPE_MACRO_02_SMG_MK2",

	["WEAPON_ASSAULTSMG"] = "COMPONENT_AT_SCOPE_MACRO",

	["WEAPON_COMBATPDW"] = "COMPONENT_AT_SCOPE_SMALL",

	["WEAPON_ASSAULTRIFLE"] = "COMPONENT_AT_SCOPE_MACRO",

	["WEAPON_CARBINERIFLE"] = "COMPONENT_AT_SCOPE_MEDIUM",

	["WEAPON_MARKSMANRIFLE"] = "COMPONENT_AT_SCOPE_MEDIUM_MK2",

	["WEAPON_SNIPERRIFLE"] = "COMPONENT_AT_SCOPE_LARGE"

}



FineeaszNigger.AdvancedScopeWeapons = {

	["WEAPON_PUMPSHOTGUN_MK2"] = "COMPONENT_AT_SCOPE_SMALL_MK2",

	["WEAPON_SMG_MK2"] = "COMPONENT_AT_SCOPE_SMALL_SMG_MK2",

	["WEAPON_MARKSMANRIFLE"] = "COMPONENT_AT_SCOPE_LARGE_FIXED_ZOOM_MK2",

	["WEAPON_SNIPERRIFLE"] = "COMPONENT_AT_SCOPE_MAX"

}



FineeaszNigger.MK2 = {

	"WEAPON_PUMPSHOTGUN_MK2",

	"WEAPON_SNSPISTOL_MK2",

	"WEAPON_PISTOL_MK2",

	"WEAPON_SMG_MK2"

}



ESX = nil



local tlumik = false

local magazynek = false



local Components = {

	['Suppressor'] = true,

	['flashlight'] = true,

	['grip'] = true,

	['powiekszonymagazynek'] = true,

	['mediumscope'] = true,

	['largescope'] = true,

	['celownikdluga'] = true

}



Citizen.CreateThread(function()

	while ESX == nil do

		TriggerEvent('esx:getSharedObject', function(obj) ESX = obj end)

		Citizen.Wait(0)

	end

end)

RegisterNetEvent('PlaceRDM:dodatki')
AddEventHandler('PlaceRDM:dodatki', function()
	local playerPed = PlayerPedId()

				ESX.UI.Menu.CloseAll()

				ESX.UI.Menu.Open(

					'default', GetCurrentResourceName(), 'PlaceRDM',

					{

						title	= 'Dodatki do broni',

						align	= 'center',

						elements = {

							{label = 'Tłumik', value = "silencer"},

							{label = 'Latarka', value = "flashlight"},

							{label = 'Uchwyt', value = "grip"},

							{label = 'Powiększony magazynek', value = "emag"},

							{label = 'Celownik', value = "scope"},

							--{label = 'Zaawansowany celownik', value = "ascope"},

						--	{label = 'Celownik do karabinu', value = "lscope"}

						}

					},

					function(data, menu)

						if data.current.value == "silencer" then

							tlumik = not tlumik

							if tlumik then

								TriggerEvent("PlaceRDM:equipSilencer")

							else

								TriggerEvent("PlaceRDM:unequipSilencer")

							end

						elseif data.current.value == "flashlight" then

							TriggerEvent("PlaceRDM:unequipFlashlight")

						elseif data.current.value == "grip" then

							TriggerEvent("PlaceRDM:unequipGrip")

						elseif data.current.value == "emag" then

							magazynek = not magazynek

							if magazynek then

								TriggerEvent("PlaceRDM:equipExtendedMag")

							else

								TriggerEvent("PlaceRDM:unequipEmag")

							end

						elseif data.current.value == "scope" then

							TriggerEvent("PlaceRDM:unequipScope")

						elseif data.current.value == "ascope" then

							TriggerEvent("PlaceRDM:unequipAdvancedcope")

						elseif data.current.value == "lscope" then

							TriggerEvent("PlaceRDM:unequiplongscope")

						end

					end,

					function(data, menu)  

						menu.close()

					end

				)
			
end)



RegisterNetEvent('PlaceRDM:equipSilencer')

AddEventHandler('PlaceRDM:equipSilencer', function()

	local PlayerPed = PlayerPedId()

	local CurrentWeaponHash = GetSelectedPedWeapon(PlayerPed)



	local EquipableWeapon = false

	for k, v in pairs(FineeaszNigger.SilencerWeapons) do

		if GetHashKey(k) == CurrentWeaponHash then

			GiveWeaponComponentToPed(PlayerPed, GetHashKey(k), GetHashKey(v))

			EquipableWeapon = true

			ESX.ShowNotification("~g~Zamontowano tłumik")

			PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_EQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

		end

	end



	if not EquipableWeapon then

		ESX.ShowNotification("~r~Nie możesz założyć tłumika do tej broń")

	end

end)



RegisterNetEvent('PlaceRDM:unequipSilencer')

AddEventHandler('PlaceRDM:unequipSilencer', function()

	local PlayerPed = PlayerPedId()

	local CurrentWeaponHash = GetSelectedPedWeapon(PlayerPed)



	for k, v in pairs(FineeaszNigger.SilencerWeapons) do

		if GetHashKey(k) == CurrentWeaponHash then

			if HasPedGotWeaponComponent(PlayerPed, CurrentWeaponHash, GetHashKey(v)) then

				RemoveWeaponComponentFromPed(PlayerPed, CurrentWeaponHash, GetHashKey(v))

				ESX.ShowNotification("~g~Zdemontowano tłumik")

				PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_UNEQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

			else

				ESX.ShowNotification('~r~Ta broń nie posiada tego dodatku')

			end

		end

	end

end)



RegisterNetEvent('PlaceRDM:equipFlashlight')

AddEventHandler('PlaceRDM:equipFlashlight', function()

	local PlayerPed = PlayerPedId()

	local CurrentWeaponHash = GetSelectedPedWeapon(PlayerPed)



	local EquipableWeapon = false

	for k, v in pairs(FineeaszNigger.FlashLightWeapons) do

		if GetHashKey(k) == CurrentWeaponHash then

			GiveWeaponComponentToPed(PlayerPed, GetHashKey(k), GetHashKey(v))

			EquipableWeapon = true

			ESX.ShowNotification("~g~Zamontowano latarkę taktyczną")

			PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_EQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

		end

	end



	if not EquipableWeapon then

		ESX.ShowNotification("~r~Nie możesz założyć latarki taktycznej do tej broń")

	end

end)



RegisterNetEvent('PlaceRDM:unequipFlashlight')

AddEventHandler('PlaceRDM:unequipFlashlight', function()

	local PlayerPed = PlayerPedId()

	local CurrentWeaponHash = GetSelectedPedWeapon(PlayerPed)



	for k, v in pairs(FineeaszNigger.FlashLightWeapons) do

		if GetHashKey(k) == CurrentWeaponHash then

			if HasPedGotWeaponComponent(PlayerPed, CurrentWeaponHash, GetHashKey(v)) then

				RemoveWeaponComponentFromPed(PlayerPed, CurrentWeaponHash, GetHashKey(v))

				ESX.ShowNotification('~g~Zdemontowano latarkę taktyczną')

				PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_UNEQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

			else

				ESX.ShowNotification("~r~Ta broń nie posiada tego dodatku")

			end

		end

	end

end)



RegisterNetEvent('PlaceRDM:equipGrip')

AddEventHandler('PlaceRDM:equipGrip', function()

	local PlayerPed = PlayerPedId()

	local CurrentWeaponHash = GetSelectedPedWeapon(PlayerPed)



	local EquipableWeapon = false

	for k, v in pairs(FineeaszNigger.GripWeapons) do

		if GetHashKey(k) == CurrentWeaponHash then

			GiveWeaponComponentToPed(PlayerPed, GetHashKey(k), GetHashKey(v))

			EquipableWeapon = true

			ESX.ShowNotification("~g~Zamontowano chwyt")

			PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_EQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

		end

	end



	if not EquipableWeapon then

		ESX.ShowNotification("~r~Nie możesz założyć chwytu do tej broni")

	end

end)



RegisterNetEvent('PlaceRDM:unequipGrip')

AddEventHandler('PlaceRDM:unequipGrip', function()

	local PlayerPed = PlayerPedId()

	local CurrentWeaponHash = GetSelectedPedWeapon(PlayerPed)



	for k, v in pairs(FineeaszNigger.GripWeapons) do

		if GetHashKey(k) == CurrentWeaponHash then

			if HasPedGotWeaponComponent(PlayerPed, CurrentWeaponHash, GetHashKey(v)) then

				RemoveWeaponComponentFromPed(PlayerPed, CurrentWeaponHash, GetHashKey(v))

				ESX.ShowNotification('~g~Zdemontowano chwyt')

				PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_UNEQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

			else

				ESX.ShowNotification("~r~Ta broń nie posiada tego dodatku")

			end

		end

	end

end)



RegisterNetEvent('PlaceRDM:equipExtendedMag')

AddEventHandler('PlaceRDM:equipExtendedMag', function()

	local PlayerPed = PlayerPedId()

	local CurrentWeaponHash = GetSelectedPedWeapon(PlayerPed)



	local EquipableWeapon = false

	for k, v in pairs(FineeaszNigger.ExtendedMagazineWeapons) do

		if GetHashKey(k) == CurrentWeaponHash then

			GiveWeaponComponentToPed(PlayerPed, GetHashKey(k), GetHashKey(v))

			EquipableWeapon = true

			ESX.ShowNotification("~g~Zamontowano powiększony magazynek")

			PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_EQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

		end

	end



	if not EquipableWeapon then

		ESX.ShowNotification("~r~Nie możesz założyć powiększonego magazynku do tej broni")

	end

end)



RegisterNetEvent('PlaceRDM:unequipEmag')

AddEventHandler('PlaceRDM:unequipEmag', function()

	local PlayerPed = PlayerPedId()

	local CurrentWeaponHash = GetSelectedPedWeapon(PlayerPed)



	for k, v in pairs(FineeaszNigger.ExtendedMagazineWeapons) do

		if GetHashKey(k) == CurrentWeaponHash then

			if HasPedGotWeaponComponent(PlayerPed, CurrentWeaponHash, GetHashKey(v)) then

				RemoveWeaponComponentFromPed(PlayerPed, CurrentWeaponHash, GetHashKey(v))

				ESX.ShowNotification('~g~Zdemontowano powiększony magazynek')

				PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_UNEQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

			else

				ESX.ShowNotification("~r~Ta broń nie posiada tego dodatku")

			end

		end

	end

end)



RegisterNetEvent('PlaceRDM:equipScope')

AddEventHandler('PlaceRDM:equipScope', function()

	local PlayerPed = PlayerPedId()

	local CurrentWeaponHash = GetSelectedPedWeapon(PlayerPed)



	local EquipableWeapon = false

	for k, v in pairs(FineeaszNigger.ScopeWeapons) do

		if GetHashKey(k) == CurrentWeaponHash then

			GiveWeaponComponentToPed(PlayerPed, GetHashKey(k), GetHashKey(v))

			EquipableWeapon = true

			ESX.ShowNotification("~g~Zamontowano celownik")

			PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_EQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

		end

	end



	if not EquipableWeapon then

		ESX.ShowNotification("~r~Nie możesz założyć celownika do tej broni")

	end

end)



RegisterNetEvent('PlaceRDM:unequipScope')

AddEventHandler('PlaceRDM:unequipScope', function()

	local PlayerPed = PlayerPedId()

	local CurrentWeaponHash = GetSelectedPedWeapon(PlayerPed)



	for k, v in pairs(FineeaszNigger.ScopeWeapons) do

		if GetHashKey(k) == CurrentWeaponHash then

			if HasPedGotWeaponComponent(PlayerPed, CurrentWeaponHash, GetHashKey(v)) then

				RemoveWeaponComponentFromPed(PlayerPed, CurrentWeaponHash, GetHashKey(v))

				ESX.ShowNotification('~g~Zdemontowano celownik')

				PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_UNEQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

			else

				ESX.ShowNotification("~r~Ta broń nie posiada tego dodatku")

			end

		end

	end

end)



RegisterNetEvent('PlaceRDM:equipAdvancedScope')

AddEventHandler('PlaceRDM:equipAdvancedScope', function()

	local PlayerPed = PlayerPedId()

	local CurrentWeaponHash = GetSelectedPedWeapon(PlayerPed)



	local EquipableWeapon = false

	for k, v in pairs(FineeaszNigger.AdvancedScopeWeapons) do

		if GetHashKey(k) == CurrentWeaponHash then

			GiveWeaponComponentToPed(PlayerPed, GetHashKey(k), GetHashKey(v))

			EquipableWeapon = true

			ESX.ShowNotification("~g~Zamontowano zaawansowany celownik")

			PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_EQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

		end

	end



	if not EquipableWeapon then

		ESX.ShowNotification("~r~Nie możesz założyć zaawansowanego celownika do tej broni")

	end

end)



RegisterNetEvent('PlaceRDM:unequipAdvancedScope')

AddEventHandler('PlaceRDM:unequipAdvancedcope', function()

	local PlayerPed = PlayerPedId()

	local CurrentWeaponHash = GetSelectedPedWeapon(PlayerPed)



	for k, v in pairs(FineeaszNigger.AdvancedScopeWeapons) do

		if GetHashKey(k) == CurrentWeaponHash then

			if HasPedGotWeaponComponent(PlayerPed, CurrentWeaponHash, GetHashKey(v)) then

				RemoveWeaponComponentFromPed(PlayerPed, CurrentWeaponHash, GetHashKey(v))

				ESX.ShowNotification('~g~Zdemontowano zaawansowany celownik')

				PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_UNEQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

			else

				ESX.ShowNotification("~r~Ta broń nie posiada tego dodatku")

			end

		end

	end

end)



RegisterNetEvent('PlaceRDM:equipLongScope')

AddEventHandler('PlaceRDM:equipLongScope', function()

	local PlayerPed = PlayerPedId()

	local CurrentWeaponHash = GetSelectedPedWeapon(PlayerPed)



	local EquipableWeapon = false

	for k, v in pairs(FineeaszNigger.LScopeWeapons) do

		if GetHashKey(k) == CurrentWeaponHash then

			GiveWeaponComponentToPed(PlayerPed, GetHashKey(k), GetHashKey(v))

			EquipableWeapon = true

			ESX.ShowNotification("~g~Zamontowano celownik do karabinu")

			PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_EQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

		end

	end



	if not EquipableWeapon then

		ESX.ShowNotification("~r~Nie możesz założyć celownika do tej broni")

	end

end)



RegisterNetEvent('PlaceRDM:unequiplongscope')

AddEventHandler('PlaceRDM:unequiplongscope', function()

	local PlayerPed = PlayerPedId()

	local CurrentWeaponHash = GetSelectedPedWeapon(PlayerPed)



	for k, v in pairs(FineeaszNigger.LScopeWeapons) do

		if GetHashKey(k) == CurrentWeaponHash then

			if HasPedGotWeaponComponent(PlayerPed, CurrentWeaponHash, GetHashKey(v)) then

				RemoveWeaponComponentFromPed(PlayerPed, CurrentWeaponHash, GetHashKey(v))

				ESX.ShowNotification('~g~Zdemontowano celownik do karabinu')

				PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_UNEQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

			else

				ESX.ShowNotification("~r~Ta broń nie posiada tego dodatku")

			end

		end

	end

end)



RegisterNetEvent('PlaceRDM:looseComponent')

AddEventHandler('PlaceRDM:looseComponent', function(component)

	local playerPed, any = PlayerPedId(), false

	if component == "Suppressor" then

		for k, v in pairs(FineeaszNigger.SilencerWeapons) do

			if HasPedGotWeapon(playerPed, GetHashKey(k), false) and HasPedGotWeaponComponent(playerPed, GetHashKey(k), GetHashKey(v)) then

				RemoveWeaponComponentFromPed(playerPed, GetHashKey(k), GetHashKey(v))

				if not any then

					any = true

				end

			end

		end

	elseif component == "flashlight" then

		for k, v in pairs(FineeaszNigger.FlashlightWeapons) do

			if HasPedGotWeapon(playerPed, GetHashKey(k), false) and HasPedGotWeaponComponent(playerPed, GetHashKey(k), GetHashKey(v)) then

				RemoveWeaponComponentFromPed(playerPed, GetHashKey(k), GetHashKey(v))

				if not any then

					any = true

				end

			end

		end

	elseif component == "grip" then

		for k, v in pairs(FineeaszNigger.GripWeapons) do

			if HasPedGotWeapon(playerPed, GetHashKey(k), false) and HasPedGotWeaponComponent(playerPed, GetHashKey(k), GetHashKey(v)) then

				RemoveWeaponComponentFromPed(playerPed, GetHashKey(k), GetHashKey(v))

				if not any then

					any = true

				end

			end

		end

	elseif component == "powiekszonymagazynek" then

		for k, v in pairs(FineeaszNigger.ExtendedMagazineWeapons) do

			if HasPedGotWeapon(playerPed, GetHashKey(k), false) and HasPedGotWeaponComponent(playerPed, GetHashKey(k), GetHashKey(v)) then

				RemoveWeaponComponentFromPed(playerPed, GetHashKey(k), GetHashKey(v))

				if not any then

					any = true

				end

			end

		end

	elseif component == "mediumscope" then

		for k, v in pairs(FineeaszNigger.ScopeWeapons) do

			if HasPedGotWeapon(playerPed, GetHashKey(k), false) and HasPedGotWeaponComponent(playerPed, GetHashKey(k), GetHashKey(v)) then

				RemoveWeaponComponentFromPed(playerPed, GetHashKey(k), GetHashKey(v))

				if not any then

					any = true

				end

			end

		end

	elseif component == "celownikdluga" then

		for k, v in pairs(FineeaszNigger.LScopeWeapons) do

			if HasPedGotWeapon(playerPed, GetHashKey(k), false) and HasPedGotWeaponComponent(playerPed, GetHashKey(k), GetHashKey(v)) then

				RemoveWeaponComponentFromPed(playerPed, GetHashKey(k), GetHashKey(v))

				if not any then

					any = true

				end

			end

		end

	elseif component == "largescope" then

		for k, v in pairs(FineeaszNigger.AdvancedScopeWeapons) do

			if HasPedGotWeapon(playerPed, GetHashKey(k), false) and HasPedGotWeaponComponent(playerPed, GetHashKey(k), GetHashKey(v)) then

				RemoveWeaponComponentFromPed(playerPed, GetHashKey(k), GetHashKey(v))

				if not any then

					any = true

				end

			end

		end

	end



	if any then

		PlaySoundFrontend(-1, "WEAPON_ATTACHMENT_UNEQUIP", "HUD_AMMO_SHOP_SOUNDSET", 1)

	end

end)

-- To jest z extra items